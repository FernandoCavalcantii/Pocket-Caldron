{"ast":null,"code":"var _jsxFileName = \"/home/fernando/Pasta1/Projetos/sd-017-project-recipes-app/src/pages/Drinks/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState, useCallback } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport CategoriesFilter from '../../components/CategoriesFilter';\nimport RecipeCard from '../../components/RecipeCard';\nimport { getDrinksByCategory, getDrinksRecipes } from '../../services/api';\nimport Footer from '../../components/Footer';\nimport style from './style.module.scss';\nimport Header from '../../components/Header';\nimport setDrinks from '../../Redux/actions/drinksActions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Drinks = () => {\n  _s();\n\n  const history = useHistory();\n  const drinks = useSelector(state => state.drinksReducer.drinks);\n  const dispatch = useDispatch();\n  const [selectedCategory, setSelectedCategory] = useState('');\n  const fetchDrinks = useCallback(async () => {\n    const res = await getDrinksRecipes();\n    dispatch(setDrinks(res.drinks));\n  }, [dispatch]);\n\n  const setCategory = async category => {\n    if (category === 'all' || selectedCategory === category) {\n      fetchDrinks();\n    } else {\n      const res = await getDrinksByCategory(category);\n      dispatch(setDrinks(res.drinks));\n      setSelectedCategory(category);\n    }\n  };\n\n  const historyPush = () => {\n    const copy = [...drinks];\n    const id = copy[0].idDrink;\n    history.push(`/drinks/${id}`);\n  };\n\n  useEffect(() => {\n    fetchDrinks();\n  }, [fetchDrinks]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      searchEnable: true,\n      pageName: \"Drinks\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CategoriesFilter, {\n      setCategory: setCategory\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: style.recipesContainer,\n      children: [drinks && drinks.length === 1 && historyPush(), drinks === null || drinks === void 0 ? void 0 : drinks.map((drink, index) => {\n        if (index < Number('12')) {\n          return /*#__PURE__*/_jsxDEV(RecipeCard, {\n            testIdIndex: index,\n            name: drink.strDrink,\n            thumb: drink.strDrinkThumb,\n            recipeId: drink.idDrink\n          }, drink.strDrink, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 15\n          }, this);\n        }\n\n        return false;\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Drinks, \"dTXjrS5yThutdHb4BAYeHQym60Q=\", false, function () {\n  return [useHistory, useSelector, useDispatch];\n});\n\n_c = Drinks;\nexport default Drinks;\n\nvar _c;\n\n$RefreshReg$(_c, \"Drinks\");","map":{"version":3,"sources":["/home/fernando/Pasta1/Projetos/sd-017-project-recipes-app/src/pages/Drinks/index.js"],"names":["React","useEffect","useState","useCallback","useHistory","useDispatch","useSelector","CategoriesFilter","RecipeCard","getDrinksByCategory","getDrinksRecipes","Footer","style","Header","setDrinks","Drinks","history","drinks","state","drinksReducer","dispatch","selectedCategory","setSelectedCategory","fetchDrinks","res","setCategory","category","historyPush","copy","id","idDrink","push","recipesContainer","length","map","drink","index","Number","strDrink","strDrinkThumb"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useCallback } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport CategoriesFilter from '../../components/CategoriesFilter';\nimport RecipeCard from '../../components/RecipeCard';\nimport { getDrinksByCategory, getDrinksRecipes } from '../../services/api';\nimport Footer from '../../components/Footer';\n\nimport style from './style.module.scss';\nimport Header from '../../components/Header';\nimport setDrinks from '../../Redux/actions/drinksActions';\n\nconst Drinks = () => {\n  const history = useHistory();\n  const drinks = useSelector((state) => state.drinksReducer.drinks);\n  const dispatch = useDispatch();\n  const [selectedCategory, setSelectedCategory] = useState('');\n\n  const fetchDrinks = useCallback(\n    async () => {\n      const res = await getDrinksRecipes();\n      dispatch(setDrinks(res.drinks));\n    }, [dispatch],\n  );\n\n  const setCategory = async (category) => {\n    if (category === 'all' || selectedCategory === category) {\n      fetchDrinks();\n    } else {\n      const res = await getDrinksByCategory(category);\n      dispatch(setDrinks(res.drinks));\n      setSelectedCategory(category);\n    }\n  };\n\n  const historyPush = () => {\n    const copy = [...drinks];\n    const id = copy[0].idDrink;\n    history.push(`/drinks/${id}`);\n  };\n\n  useEffect(() => {\n    fetchDrinks();\n  }, [fetchDrinks]);\n\n  return (\n    <>\n      <Header searchEnable pageName=\"Drinks\" />\n      <CategoriesFilter setCategory={ setCategory } />\n      <section className={ style.recipesContainer }>\n        { drinks && drinks.length === 1 && historyPush() }\n        { drinks?.map((drink, index) => {\n          if (index < Number('12')) {\n            return (\n              <RecipeCard\n                testIdIndex={ index }\n                key={ drink.strDrink }\n                name={ drink.strDrink }\n                thumb={ drink.strDrinkThumb }\n                recipeId={ drink.idDrink }\n              />\n            );\n          }\n          return false;\n        })}\n      </section>\n      <Footer />\n    </>\n\n  );\n};\n\nexport default Drinks;\n"]},"metadata":{},"sourceType":"module"}